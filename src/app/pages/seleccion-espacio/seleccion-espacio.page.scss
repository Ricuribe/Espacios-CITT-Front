/* VARIABLES */
$brand-blue: #2563eb; 
$brand-dark: #0f172a; 
$card-bg: #111827;    
$text-white: #ffffff;
$text-grey: #9ca3af;
$border-color: rgba(255, 255, 255, 0.1);
$selected-border: #3b82f6;

:host {
  ion-content {
    --background: #{$brand-dark};
  }
}

/* --- HEADER (Standard) --- */
.main-header {
  position: absolute; top: 0; left: 0; width: 100%; z-index: 10; --box-shadow: none;
  .main-toolbar { 
    --min-height: 100px; --background: transparent; --border-width: 0; 
    padding: 0 20px; display: flex; align-items: center; justify-content: space-between; 
  }
  .logo { height: 80px; width: auto; object-fit: contain; cursor: pointer; display: block; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); transition: all 0.3s ease; }
  ion-menu-button { --color: #ffffff; font-size: 2rem; margin: 0; }
  
  .desktop-only-buttons {
    ion-button {
      font-family: 'Inter', sans-serif; font-weight: 500; text-transform: none; --border-radius: 50px;
      &.btn-logout { --background: #ffffff; --color: #1e40af; font-weight: 700; margin-left: 10px; }
    }
  }
}

/* Responsive Header */
@media (max-width: 991px) { 
  .main-header { .desktop-only-buttons { display: none; } .mobile-only-button { display: block; margin-right: 0; } .logo { margin-left: auto; margin-right: 0; } } 
}
@media (min-width: 992px) { 
  .main-header { .mobile-only-button { display: none; } .desktop-only-buttons { display: flex; align-items: center; } .logo { margin-right: auto; margin-left: 0; } } 
}

/* --- MENÚ AZUL --- */
ion-menu {
  --background: linear-gradient(180deg, #2563eb 0%, #1e40af 100%) !important;
  ion-header ion-toolbar { --background: transparent !important; --color: white; --border-width: 0; }
  ion-content { --background: transparent !important; --color: white; }
  ion-list { background: transparent !important; }
  ion-item { --background: transparent !important; --color: white; --border-color: rgba(255,255,255,0.1); &:hover { --background: rgba(255,255,255,0.1) !important; } }
  .logout-item { margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.2); color: #ffadad; ion-icon { color: #ffadad; } }
}

/* --- CONTENIDO --- */
.page-wrapper {
  padding: 140px 20px 80px 20px;
  max-width: 1000px;
  margin: 0 auto;
  min-height: 90vh;
}

.page-title-header {
  margin-bottom: 30px;
  h1 { color: $text-white; font-size: 2rem; font-weight: 700; }
}

/* BARRA DE CONTROL SUPERIOR */
.control-bar {
  background-color: $card-bg;
  border-radius: 12px;
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  border: 1px solid $border-color;
  margin-bottom: 30px;

  .control-text {
    h2 { color: $text-white; font-size: 1.2rem; font-weight: 600; margin: 0 0 5px 0; }
    p { color: $text-grey; font-size: 0.9rem; margin: 0; }
  }

  .control-toggle {
    display: flex; align-items: center; gap: 10px;
    ion-label { color: $text-grey; font-size: 0.9rem; }
    ion-toggle { --track-background: #374151; --handle-background: white; --handle-background-checked: white; --track-background-checked: #2563eb; }
  }
}

/* GRILLA DE ESPACIOS */
.spaces-grid { margin-bottom: 30px; }

.space-card {
  background-color: $card-bg;
  border: 1px solid $border-color;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;

  /* ESTADO SELECCIONADO */
  &.selected {
    border: 2px solid $selected-border; /* Borde Azul */
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.2);
  }
  
  &.disabled { opacity: 0.5; pointer-events: none; }

  .zone-badge {
    font-size: 0.85rem; color: $text-grey; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.5px;
  }

  .card-body {
    h3 { color: $text-white; font-size: 1.3rem; font-weight: 700; margin: 0 0 5px 0; }
    p { color: $text-grey; font-size: 0.9rem; margin-bottom: 20px; }
    
    &.empty { text-align: center; padding: 20px 0; h3 { color: #64748b; } }
  }

  /* BOTÓN VER DETALLES (Estilo Pastilla Blanca) */
  .btn-details {
    width: 100%;
    background-color: white;
    color: #0f172a;
    border: none;
    border-radius: 50px;
    padding: 10px;
    font-weight: 700;
    font-size: 0.9rem;
    display: flex; align-items: center; justify-content: center; gap: 8px;
    cursor: pointer;
    transition: background 0.2s;

    &:hover { background-color: #f3f4f6; }
    ion-icon { font-size: 1.2rem; }
  }
}

/* AREA DE LÍDERES */
.leaders-area {
  display: flex; justify-content: space-between; align-items: center;
  padding: 20px;
  border-top: 1px solid $border-color;
  margin-bottom: 30px;
  color: $text-white; font-weight: 600;
  
  .badge-reserved {
    background-color: rgba(234, 179, 8, 0.2); /* Amarillo transparente */
    color: #fbbf24; /* Amarillo texto */
    padding: 5px 12px; border-radius: 20px; font-size: 0.85rem;
  }
}

/* BOTÓN CONFIRMAR (GRANDE BLANCO) */
.footer-action {
  margin-top: 20px;
  .btn-confirm {
    width: 100%;
    background-color: white;
    color: #0f172a;
    border: none;
    border-radius: 12px;
    padding: 16px;
    font-size: 1.1rem;
    font-weight: 800;
    text-transform: uppercase;
    cursor: pointer;
    transition: opacity 0.2s;
    
    &:disabled { opacity: 0.5; cursor: not-allowed; }
    &:hover:not(:disabled) { opacity: 0.9; }
  }
}

.status-msg { text-align: center; color: $text-grey; padding: 20px; }
.status-msg.error { color: #ef4444; }

@media (max-width: 768px) {
  .control-bar { flex-direction: column; align-items: flex-start; gap: 15px; }
  .control-toggle { width: 100%; justify-content: space-between; }
}